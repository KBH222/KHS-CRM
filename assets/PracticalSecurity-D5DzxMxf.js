var b=Object.defineProperty;var j=(o,n,s)=>n in o?b(o,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):o[n]=s;var u=(o,n,s)=>j(o,typeof n!="symbol"?n+"":n,s);import{j as e}from"./ui-vendor-DuzoyoLP.js";import{u as S,r as d}from"./react-vendor-BLXwT7zj.js";import{j as C}from"./index-DEcLH6Mq.js";import"./utils-vendor-BiZXfEo0.js";const k={customers:{name:{sync:"yes",reason:"Public record, needed for business"},address:{sync:"yes",reason:"Public record, job site location"},phone:{sync:"yes",reason:"Business contact information"},email:{sync:"yes",reason:"Business communication"},reference:{sync:"yes",reason:"Lead source tracking"},notes:{sync:"yes",reason:"General job notes"},paymentMethod:{sync:"no",encrypted:!0,reason:"Financial data"},creditCard:{sync:"no",encrypted:!0,reason:"Payment information"},bankAccount:{sync:"no",encrypted:!0,reason:"Banking details"},ssn:{sync:"no",encrypted:!0,reason:"Personal identifier"},privateNotes:{sync:"no",reason:"Confidential information"},pricing:{sync:"no",encrypted:!0,reason:"Business margins"}},jobs:{title:{sync:"yes",reason:"Job identification"},description:{sync:"yes",reason:"Work scope"},location:{sync:"yes",reason:"Job site address"},startDate:{sync:"yes",reason:"Schedule coordination"},endDate:{sync:"yes",reason:"Timeline management"},status:{sync:"yes",reason:"Progress tracking"},materials:{sync:"yes",reason:"Supply management"},assignedTo:{sync:"yes",reason:"Worker assignments"},photos:{sync:"yes",reason:"Progress documentation"},documents:{sync:"yes",reason:"Plans and permits"},comments:{sync:"yes",reason:"Team communication"},totalCost:{sync:"no",encrypted:!0,reason:"Pricing information"},laborCost:{sync:"no",encrypted:!0,reason:"Internal costs"},materialCost:{sync:"no",encrypted:!0,reason:"Supplier pricing"},margin:{sync:"no",encrypted:!0,reason:"Profit margins"},invoiceDetails:{sync:"no",encrypted:!0,reason:"Billing information"}},workers:{name:{sync:"yes",reason:"Team identification"},phone:{sync:"yes",reason:"Work communication"},email:{sync:"yes",reason:"Team updates"},skills:{sync:"yes",reason:"Task assignment"},schedule:{sync:"yes",reason:"Availability tracking"},ssn:{sync:"no",encrypted:!0,reason:"Legal requirement"},wage:{sync:"no",encrypted:!0,reason:"Payroll confidential"},emergencyContact:{sync:"no",reason:"Private information"},medicalInfo:{sync:"no",encrypted:!0,reason:"HIPAA protected"}},materials:{name:{sync:"yes",reason:"Material tracking"},quantity:{sync:"yes",reason:"Inventory management"},supplier:{sync:"yes",reason:"Ordering information"},location:{sync:"yes",reason:"Storage tracking"},cost:{sync:"no",encrypted:!0,reason:"Supplier pricing"},markup:{sync:"no",encrypted:!0,reason:"Profit margins"}}};function p(o,n){const s=k[o];if(!s||typeof s=="object"&&"sync"in s)return!1;const r=s[n];return(r==null?void 0:r.encrypted)===!0}class v{constructor(){u(this,"password",null)}setPassword(n){this.password=n}isReady(){return this.password!==null}encrypt(n){if(!this.password)return n;let s="";for(let r=0;r<n.length;r++)s+=String.fromCharCode(n.charCodeAt(r)^this.password.charCodeAt(r%this.password.length));return btoa(s)}decrypt(n){if(!this.password)return n;try{const s=atob(n);let r="";for(let t=0;t<s.length;t++)r+=String.fromCharCode(s.charCodeAt(t)^this.password.charCodeAt(t%this.password.length));return r}catch{return n}}encryptObject(n,s){if(!this.isReady())return n;const r={...n};for(const[t,i]of Object.entries(n))p(s,t)&&typeof i=="string"?r[t]=this.encrypt(i):p(s,t)&&typeof i=="number"&&(r[t]=this.encrypt(i.toString()));return r}decryptObject(n,s){if(!this.isReady())return n;const r={...n};for(const[t,i]of Object.entries(n))if(p(s,t)&&typeof i=="string"){const c=this.decrypt(i),a=parseFloat(c);r[t]=isNaN(a)?c:a}return r}clear(){this.password=null}}const y=new v,A=()=>{const o=S(),[n,s]=d.useState(""),[r,t]=d.useState(!1),[i,c]=d.useState(!1),[a,l]=d.useState(null);d.useEffect(()=>{t(C.isInitialized()),c(y.isReady())},[]);const x=()=>{if(!n){l({type:"error",text:"Please enter a password for encryption"});return}y.setPassword(n),c(!0),l({type:"success",text:"Financial data encryption enabled"}),s("")},h=()=>{y.clear(),c(!1),l({type:"success",text:"Encryption disabled"})},m=()=>{localStorage.setItem("khs-crm-skip-auth","true"),l({type:"success",text:"Authentication disabled - app will open directly"})},g=()=>{localStorage.removeItem("khs-crm-skip-auth"),l({type:"success",text:"Authentication enabled - restart app to set up"})};return e.jsxs("div",{style:{padding:"20px",maxWidth:"800px",margin:"0 auto"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[e.jsx("h1",{style:{margin:0},children:"Practical Security Settings"}),e.jsx("button",{onClick:()=>o(-1),style:{padding:"8px 16px",backgroundColor:"#E5E7EB",border:"none",borderRadius:"6px",cursor:"pointer"},children:"Back"})]}),a&&e.jsx("div",{style:{padding:"12px",backgroundColor:a.type==="success"?"#ECFDF5":"#FEE2E2",border:`1px solid ${a.type==="success"?"#10B981":"#DC2626"}`,borderRadius:"6px",marginBottom:"20px",color:a.type==="success"?"#064E3B":"#991B1B"},children:a.text}),e.jsxs("div",{style:{backgroundColor:"#EFF6FF",padding:"20px",borderRadius:"8px",marginBottom:"20px"},children:[e.jsx("h2",{style:{margin:"0 0 12px 0",fontSize:"18px"},children:"üîß Practical Security Approach"}),e.jsx("p",{style:{margin:"0 0 12px 0",fontSize:"14px",color:"#1E40AF"},children:"This CRM uses a balanced security approach designed for real construction businesses:"}),e.jsxs("ul",{style:{margin:0,paddingLeft:"20px",fontSize:"14px",color:"#1E40AF"},children:[e.jsx("li",{children:"Customer names, addresses, and job details sync via Google Drive (public record data)"}),e.jsx("li",{children:"Financial information (payments, pricing) stays encrypted on your device"}),e.jsx("li",{children:"Workers can access job sites and contact customers directly"}),e.jsx("li",{children:"Optional app password protection for device security"})]})]}),e.jsxs("div",{style:{backgroundColor:"#F9FAFB",padding:"20px",borderRadius:"8px",marginBottom:"20px"},children:[e.jsx("h2",{style:{margin:"0 0 16px 0",fontSize:"18px"},children:"üí∞ Financial Data Encryption"}),i?e.jsxs("div",{children:[e.jsx("p",{style:{margin:"0 0 16px 0",fontSize:"14px",color:"#059669"},children:"‚úÖ Financial data encryption is active"}),e.jsx("button",{onClick:h,style:{padding:"8px 16px",backgroundColor:"#DC2626",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:"500"},children:"Disable Encryption"})]}):e.jsxs("div",{children:[e.jsx("p",{style:{margin:"0 0 16px 0",fontSize:"14px",color:"#6B7280"},children:"Enable encryption to protect pricing, payment methods, and financial details."}),e.jsxs("div",{style:{display:"flex",gap:"12px",alignItems:"center"},children:[e.jsx("input",{type:"password",value:n,onChange:f=>s(f.target.value),placeholder:"Enter encryption password",style:{padding:"8px 12px",border:"1px solid #D1D5DB",borderRadius:"6px",fontSize:"14px",flex:1}}),e.jsx("button",{onClick:x,style:{padding:"8px 16px",backgroundColor:"#10B981",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:"500"},children:"Enable Encryption"})]})]})]}),e.jsxs("div",{style:{backgroundColor:"#F9FAFB",padding:"20px",borderRadius:"8px",marginBottom:"20px"},children:[e.jsx("h2",{style:{margin:"0 0 16px 0",fontSize:"18px"},children:"üîê App Password Protection"}),r?e.jsxs("div",{children:[e.jsx("p",{style:{margin:"0 0 16px 0",fontSize:"14px",color:"#6B7280"},children:"App password is enabled. Users must log in to access the CRM."}),e.jsx("button",{onClick:m,style:{padding:"8px 16px",backgroundColor:"#F59E0B",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:"500"},children:"Disable Password (Direct Access)"})]}):e.jsxs("div",{children:[e.jsx("p",{style:{margin:"0 0 16px 0",fontSize:"14px",color:"#6B7280"},children:"App opens directly without password. Enable for device security."}),e.jsx("button",{onClick:g,style:{padding:"8px 16px",backgroundColor:"#3B82F6",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:"500"},children:"Enable Password Protection"})]})]}),e.jsxs("div",{style:{backgroundColor:"#F9FAFB",padding:"20px",borderRadius:"8px",marginBottom:"20px"},children:[e.jsx("h2",{style:{margin:"0 0 16px 0",fontSize:"18px"},children:"‚òÅÔ∏è What Syncs vs What Stays Local"}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px"},children:[e.jsxs("div",{children:[e.jsx("h3",{style:{margin:"0 0 12px 0",fontSize:"16px",color:"#059669"},children:"‚úÖ Syncs to Google Drive"}),e.jsxs("ul",{style:{margin:0,paddingLeft:"20px",fontSize:"14px",color:"#6B7280"},children:[e.jsx("li",{children:"Customer names & addresses"}),e.jsx("li",{children:"Phone numbers & emails"}),e.jsx("li",{children:"Job locations & descriptions"}),e.jsx("li",{children:"Task assignments"}),e.jsx("li",{children:"Material lists"}),e.jsx("li",{children:"Work schedules"}),e.jsx("li",{children:"Project photos"})]})]}),e.jsxs("div",{children:[e.jsx("h3",{style:{margin:"0 0 12px 0",fontSize:"16px",color:"#DC2626"},children:"üîí Stays Local Only"}),e.jsxs("ul",{style:{margin:0,paddingLeft:"20px",fontSize:"14px",color:"#6B7280"},children:[e.jsx("li",{children:"Payment methods"}),e.jsx("li",{children:"Credit card details"}),e.jsx("li",{children:"Bank account info"}),e.jsx("li",{children:"Job pricing & margins"}),e.jsx("li",{children:"Social Security Numbers"}),e.jsx("li",{children:"Employee wages"}),e.jsx("li",{children:"Private family notes"})]})]})]})]}),e.jsxs("div",{style:{backgroundColor:"#FEF3C7",padding:"20px",borderRadius:"8px"},children:[e.jsx("h3",{style:{margin:"0 0 8px 0",fontSize:"16px",color:"#92400E"},children:"üí° Tips for Construction Businesses"}),e.jsxs("ul",{style:{margin:0,paddingLeft:"20px",fontSize:"14px",color:"#92400E"},children:[e.jsx("li",{children:"Enable financial encryption if you store payment info"}),e.jsx("li",{children:"Use app password if multiple people access your device"}),e.jsx("li",{children:"Google Drive sync lets workers see job details remotely"}),e.jsx("li",{children:"Customer contact info syncs so workers can call/navigate"})]})]})]})};export{A as PracticalSecurity};
//# sourceMappingURL=PracticalSecurity-D5DzxMxf.js.map
