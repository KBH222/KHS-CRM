import{j as e}from"./ui-vendor-DuzoyoLP.js";import{d as u,u as y,r as x}from"./react-vendor-BLXwT7zj.js";const m=()=>{const{id:d}=u(),a=y(),[t,p]=x.useState(null);x.useEffect(()=>{const n=localStorage.getItem("khs_crm_invoices");if(n){const s=JSON.parse(n).find(o=>o.id===d);s&&p(s)}},[d]);const c=()=>{window.print()},h=()=>{const n=`
INVOICE ${t.invoiceNumber}

Bill To:
${t.customer}

Issue Date: ${new Date(t.issueDate).toLocaleDateString()}
Due Date: ${new Date(t.dueDate).toLocaleDateString()}

Line Items:
${t.lineItems.map(r=>`${r.description} - Qty: ${r.quantity} x $${r.rate} = $${r.amount.toFixed(2)}`).join(`
`)}

Subtotal: $${t.subtotal.toFixed(2)}
Tax (8%): $${t.tax.toFixed(2)}
Total: $${t.total.toFixed(2)}

${t.notes?`Notes: ${t.notes}`:""}
    `.trim(),i=new Blob([n],{type:"text/plain"}),s=URL.createObjectURL(i),o=document.createElement("a");o.href=s,o.download=`invoice-${t.invoiceNumber}.txt`,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(s)},l=(n,i)=>n==="paid"?"#10B981":n==="sent"&&new Date(i)<new Date?"#EF4444":n==="sent"?"#3B82F6":"#6B7280",g=(n,i)=>n==="paid"?"Paid":n==="sent"&&new Date(i)<new Date?"Overdue":n==="sent"?"Sent":"Draft";return t?e.jsxs("div",{style:{maxWidth:"800px",margin:"0 auto",padding:"20px"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px","@media print":{display:"none"}},children:[e.jsx("button",{onClick:()=>a("/invoices"),style:{padding:"8px 16px",backgroundColor:"#E5E7EB",color:"#374151",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px"},children:"← Back to Invoices"}),e.jsxs("div",{style:{display:"flex",gap:"8px"},children:[e.jsx("button",{onClick:c,style:{padding:"8px 16px",backgroundColor:"#E5E7EB",color:"#374151",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px"},children:"🖨️ Print"}),e.jsx("button",{onClick:h,style:{padding:"8px 16px",backgroundColor:"#3B82F6",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px"},children:"⬇️ Download"})]})]}),e.jsxs("div",{style:{backgroundColor:"white",borderRadius:"8px",padding:"40px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:[e.jsxs("div",{style:{marginBottom:"40px",borderBottom:"2px solid #E5E7EB",paddingBottom:"20px"},children:[e.jsx("h1",{style:{fontSize:"32px",fontWeight:"bold",margin:"0 0 8px 0"},children:"KHS CRM"}),e.jsxs("p",{style:{color:"#6B7280",margin:0},children:["123 Business Street",e.jsx("br",{}),"City, State 12345",e.jsx("br",{}),"Phone: (555) 123-4567",e.jsx("br",{}),"Email: info@khscrm.com"]})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"40px"},children:[e.jsxs("div",{children:[e.jsx("h2",{style:{fontSize:"20px",fontWeight:"600",margin:"0 0 12px 0"},children:"Bill To:"}),e.jsx("p",{style:{color:"#374151",margin:0},children:t.customer})]}),e.jsxs("div",{style:{textAlign:"right"},children:[e.jsx("h2",{style:{fontSize:"24px",fontWeight:"600",margin:"0 0 12px 0"},children:"INVOICE"}),e.jsxs("p",{style:{color:"#374151",margin:"0 0 4px 0"},children:[e.jsx("strong",{children:"Invoice #:"})," ",t.invoiceNumber]}),e.jsxs("p",{style:{color:"#374151",margin:"0 0 4px 0"},children:[e.jsx("strong",{children:"Issue Date:"})," ",new Date(t.issueDate).toLocaleDateString()]}),e.jsxs("p",{style:{color:"#374151",margin:"0 0 12px 0"},children:[e.jsx("strong",{children:"Due Date:"})," ",new Date(t.dueDate).toLocaleDateString()]}),e.jsx("span",{style:{padding:"4px 12px",borderRadius:"12px",fontSize:"12px",fontWeight:"500",backgroundColor:`${l(t.status,t.dueDate)}20`,color:l(t.status,t.dueDate)},children:g(t.status,t.dueDate)})]})]}),e.jsxs("table",{style:{width:"100%",marginBottom:"40px"},children:[e.jsx("thead",{children:e.jsxs("tr",{style:{borderBottom:"2px solid #E5E7EB"},children:[e.jsx("th",{style:{padding:"12px 0",textAlign:"left",fontSize:"14px",fontWeight:"600",color:"#374151"},children:"Description"}),e.jsx("th",{style:{padding:"12px 0",textAlign:"center",fontSize:"14px",fontWeight:"600",color:"#374151",width:"80px"},children:"Qty"}),e.jsx("th",{style:{padding:"12px 0",textAlign:"right",fontSize:"14px",fontWeight:"600",color:"#374151",width:"100px"},children:"Rate"}),e.jsx("th",{style:{padding:"12px 0",textAlign:"right",fontSize:"14px",fontWeight:"600",color:"#374151",width:"100px"},children:"Amount"})]})}),e.jsx("tbody",{children:t.lineItems.map((n,i)=>e.jsxs("tr",{style:{borderBottom:"1px solid #F3F4F6"},children:[e.jsx("td",{style:{padding:"16px 0",fontSize:"14px",color:"#374151"},children:n.description}),e.jsx("td",{style:{padding:"16px 0",fontSize:"14px",color:"#374151",textAlign:"center"},children:n.quantity}),e.jsxs("td",{style:{padding:"16px 0",fontSize:"14px",color:"#374151",textAlign:"right"},children:["$",n.rate.toFixed(2)]}),e.jsxs("td",{style:{padding:"16px 0",fontSize:"14px",color:"#374151",textAlign:"right",fontWeight:"500"},children:["$",n.amount.toFixed(2)]})]},n.id))})]}),e.jsx("div",{style:{display:"flex",justifyContent:"flex-end",marginBottom:"40px"},children:e.jsxs("div",{style:{width:"300px"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"8px 0",borderBottom:"1px solid #F3F4F6"},children:[e.jsx("span",{style:{fontSize:"14px",color:"#6B7280"},children:"Subtotal:"}),e.jsxs("span",{style:{fontSize:"14px",fontWeight:"500"},children:["$",t.subtotal.toFixed(2)]})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"8px 0",borderBottom:"2px solid #E5E7EB"},children:[e.jsx("span",{style:{fontSize:"14px",color:"#6B7280"},children:"Tax (8%):"}),e.jsxs("span",{style:{fontSize:"14px",fontWeight:"500"},children:["$",t.tax.toFixed(2)]})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"12px 0"},children:[e.jsx("span",{style:{fontSize:"18px",fontWeight:"600"},children:"Total:"}),e.jsxs("span",{style:{fontSize:"18px",fontWeight:"600",color:"#3B82F6"},children:["$",t.total.toFixed(2)]})]})]})}),t.notes&&e.jsxs("div",{style:{backgroundColor:"#F9FAFB",padding:"20px",borderRadius:"6px",marginBottom:"40px"},children:[e.jsx("h3",{style:{fontSize:"14px",fontWeight:"600",margin:"0 0 8px 0"},children:"Notes"}),e.jsx("p",{style:{fontSize:"14px",color:"#374151",margin:0,whiteSpace:"pre-wrap"},children:t.notes})]}),e.jsxs("div",{style:{textAlign:"center",paddingTop:"40px",borderTop:"1px solid #E5E7EB",color:"#6B7280",fontSize:"12px"},children:[e.jsx("p",{style:{margin:"0 0 4px 0"},children:"Thank you for your business!"}),e.jsx("p",{style:{margin:0},children:"Please make payment by the due date. Late payments may incur additional charges."})]})]})]}):e.jsx("div",{style:{maxWidth:"800px",margin:"0 auto",padding:"20px"},children:e.jsx("p",{style:{textAlign:"center",color:"#6B7280"},children:"Loading invoice..."})})};export{m as default};
//# sourceMappingURL=InvoiceDetail-1eLyeCyU.js.map
