import{j as e}from"./ui-vendor-DuzoyoLP.js";import{d as Y,u as G,r}from"./react-vendor-BLXwT7zj.js";const ee=()=>{var D;const{id:v}=Y(),y=G(),[l,R]=r.useState("description"),[i,T]=r.useState(null);r.useEffect(()=>{const o=JSON.parse(localStorage.getItem("khs-crm-jobs")||"[]").find(x=>x.id===v);o?T({...o,pictures:o.pictures||[],plans:o.plans||[],tasks:o.tasks||[],specialNotes:o.specialNotes||""}):y("/jobs")},[v,y]),r.useEffect(()=>{if(i){g(i.tasks||[]),k(i.specialNotes||"");const t=localStorage.getItem(`job_materials_${i.id}`);t&&b(JSON.parse(t));const o=localStorage.getItem(`job_extraWork_${i.id}`);h(o?JSON.parse(o):i.extraWork||[])}},[i]);const[p,g]=r.useState([]),[j,E]=r.useState(""),[B,C]=r.useState(""),[f,I]=r.useState(!1),[z,k]=r.useState(""),[d,b]=r.useState([]),[w,m]=r.useState(!1),[n,c]=r.useState({name:"",quantity:"",unit:"pieces",store:"Home Depot",price:""}),A=["KBH","ISA","TYL"],[a,h]=r.useState([]),[N,S]=r.useState(!1),[s,u]=r.useState({description:"",cost:"",status:"pending",dateAdded:new Date().toISOString()});r.useEffect(()=>{i!=null&&i.id&&localStorage.setItem(`job_materials_${i.id}`,JSON.stringify(d))},[d,i]),r.useEffect(()=>{i!=null&&i.id&&localStorage.setItem(`job_extraWork_${i.id}`,JSON.stringify(a))},[a,i]);const M=[{id:"description",label:"Job Description"},{id:"pictures",label:`Pictures (${((D=i==null?void 0:i.pictures)==null?void 0:D.length)||0})`},{id:"plans",label:"Plans/Drawings"},{id:"tasks",label:`Tasks (${p.filter(t=>!t.completed).length}/${p.length})`},{id:"materials",label:"Materials"},{id:"notes",label:"Special Notes"},{id:"extraWork",label:"Extra Work"}],L=t=>{g(p.map(o=>o.id===t?{...o,completed:!o.completed}:o))},$=t=>{t.preventDefault(),j.trim()&&(g([...p,{id:Date.now(),text:j,completed:!1,assignedTo:B||null}]),E(""),C(""))},q=(t,o)=>{g(p.map(x=>x.id===t?{...x,assignedTo:o}:x))},O=t=>{g(p.filter(o=>o.id!==t))},H=t=>{if(t.preventDefault(),n.name&&n.quantity&&n.price){const o=parseFloat(n.quantity),x=parseFloat(n.price),K=o*x;b([...d,{id:Date.now(),name:n.name,quantity:o,unit:n.unit,store:n.store,price:x,total:K}]),c({name:"",quantity:"",unit:"pieces",store:"Home Depot",price:""}),m(!1)}},P=t=>{b(d.filter(o=>o.id!==t))},J=()=>d.reduce((t,o)=>t+o.total,0),_=t=>{if(t.preventDefault(),s.description&&s.cost){const o=parseFloat(s.cost);h([...a,{id:Date.now(),description:s.description,cost:o,status:s.status,dateAdded:new Date().toISOString(),approved:!1}]),u({description:"",cost:"",status:"pending",dateAdded:new Date().toISOString()}),S(!1)}},U=t=>{h(a.filter(o=>o.id!==t))},Q=t=>{h(a.map(o=>o.id===t?{...o,approved:!o.approved,status:o.approved?"pending":"approved"}:o))},X=()=>a.reduce((t,o)=>t+o.cost,0),W=()=>a.filter(t=>t.approved).reduce((t,o)=>t+o.cost,0),F=t=>{switch(t){case"Completed":return"#10B981";case"In Progress":return"#3B82F6";case"Quote":return"#F59E0B";default:return"#6B7280"}};return i?e.jsxs("div",{style:{maxWidth:"800px",margin:"0 auto",padding:"20px"},children:[e.jsxs("div",{style:{marginBottom:"20px"},children:[e.jsxs("button",{onClick:()=>y(`/customers/${i.customerId}`),style:{marginBottom:"15px",padding:"8px 16px",backgroundColor:"#E5E7EB",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px"},children:["â† Back to ",i.customerName]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"start"},children:[e.jsxs("div",{children:[e.jsx("h1",{style:{margin:"0 0 8px 0",fontSize:"24px",fontWeight:"bold"},children:i.title}),e.jsx("span",{style:{display:"inline-block",padding:"4px 12px",backgroundColor:`${F(i.status)}20`,color:F(i.status),borderRadius:"12px",fontSize:"14px",fontWeight:"500"},children:i.status})]}),e.jsxs("div",{style:{textAlign:"right"},children:[e.jsxs("p",{style:{margin:"0 0 4px 0",fontSize:"24px",fontWeight:"bold"},children:["$",i.totalCost.toLocaleString()]}),e.jsxs("p",{style:{margin:0,fontSize:"14px",color:"#6B7280"},children:["Started: ",new Date(i.startDate).toLocaleDateString()]})]})]})]}),e.jsx("div",{style:{marginBottom:"20px"},children:e.jsx("div",{style:{display:"flex",borderBottom:"2px solid #E5E7EB",overflowX:"auto",WebkitOverflowScrolling:"touch"},children:M.map(t=>e.jsx("button",{onClick:()=>R(t.id),style:{padding:"12px 16px",border:"none",backgroundColor:"transparent",cursor:"pointer",fontSize:"14px",fontWeight:"500",color:l===t.id?"#3B82F6":"#6B7280",borderBottom:l===t.id?"2px solid #3B82F6":"2px solid transparent",marginBottom:"-2px",whiteSpace:"nowrap",transition:"color 0.2s"},children:t.label},t.id))})}),e.jsxs("div",{style:{backgroundColor:"white",padding:"20px",borderRadius:"8px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:[l==="description"&&e.jsxs("div",{children:[e.jsx("h2",{style:{margin:"0 0 16px 0",fontSize:"18px",fontWeight:"600"},children:"Scope of Work"}),e.jsx("pre",{style:{margin:0,whiteSpace:"pre-wrap",fontFamily:"inherit",fontSize:"14px",lineHeight:"1.6",color:"#374151"},children:i.description})]}),l==="pictures"&&e.jsxs("div",{children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[e.jsx("h2",{style:{margin:0,fontSize:"18px",fontWeight:"600"},children:"Project Photos"}),e.jsx("button",{style:{padding:"8px 16px",backgroundColor:"#3B82F6",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px"},children:"+ Add Photo"})]}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:"16px"},children:i.pictures.map(t=>e.jsxs("div",{style:{textAlign:"center"},children:[e.jsx("div",{style:{width:"100%",height:"150px",backgroundColor:"#E5E7EB",borderRadius:"8px",marginBottom:"8px",display:"flex",alignItems:"center",justifyContent:"center",color:"#6B7280",fontSize:"12px"},children:"[Photo]"}),e.jsx("p",{style:{margin:0,fontSize:"12px",color:"#6B7280"},children:t.caption})]},t.id))}),i.pictures.length===0&&e.jsx("p",{style:{textAlign:"center",color:"#6B7280"},children:'No photos yet. Click "Add Photo" to upload.'})]}),l==="plans"&&e.jsxs("div",{children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[e.jsx("h2",{style:{margin:0,fontSize:"18px",fontWeight:"600"},children:"Plans & Drawings"}),e.jsx("button",{style:{padding:"8px 16px",backgroundColor:"#3B82F6",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px"},children:"+ Add Document"})]}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:i.plans.map(t=>e.jsxs("div",{style:{padding:"12px",border:"1px solid #E5E7EB",borderRadius:"6px",display:"flex",alignItems:"center",gap:"12px",cursor:"pointer"},children:[e.jsx("span",{style:{fontSize:"20px"},children:t.type==="pdf"?"ğŸ“„":"ğŸ–¼ï¸"}),e.jsx("span",{style:{fontSize:"14px"},children:t.name})]},t.id))}),i.plans.length===0&&e.jsx("p",{style:{textAlign:"center",color:"#6B7280"},children:"No plans uploaded yet."})]}),l==="tasks"&&e.jsxs("div",{children:[e.jsx("h2",{style:{margin:"0 0 16px 0",fontSize:"18px",fontWeight:"600"},children:"Task List"}),e.jsx("form",{onSubmit:$,style:{marginBottom:"16px"},children:e.jsxs("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap"},children:[e.jsx("input",{type:"text",value:j,onChange:t=>E(t.target.value),placeholder:"Add a new task...",style:{flex:"1 1 200px",padding:"8px 12px",border:"1px solid #E5E7EB",borderRadius:"6px",fontSize:"14px"}}),e.jsxs("select",{value:B,onChange:t=>C(t.target.value),style:{padding:"8px 12px",border:"1px solid #E5E7EB",borderRadius:"6px",fontSize:"14px",backgroundColor:"white",cursor:"pointer"},children:[e.jsx("option",{value:"",children:"Unassigned"}),A.map(t=>e.jsx("option",{value:t,children:t},t))]}),e.jsx("button",{type:"submit",style:{padding:"8px 16px",backgroundColor:"#3B82F6",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px"},children:"Add"})]})}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:p.map(t=>e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"8px",backgroundColor:t.completed?"#F3F4F6":"transparent",borderRadius:"6px",flexWrap:"wrap"},children:[e.jsx("input",{type:"checkbox",checked:t.completed,onChange:()=>L(t.id),style:{cursor:"pointer"}}),e.jsx("span",{style:{flex:"1 1 auto",fontSize:"14px",textDecoration:t.completed?"line-through":"none",color:t.completed?"#9CA3AF":"#374151",minWidth:"150px"},children:t.text}),e.jsxs("select",{value:t.assignedTo||"",onChange:o=>q(t.id,o.target.value||null),style:{padding:"4px 8px",border:"1px solid #E5E7EB",borderRadius:"4px",fontSize:"12px",backgroundColor:t.assignedTo?"#E0E7FF":"white",color:t.assignedTo?"#3730A3":"#6B7280",cursor:"pointer"},children:[e.jsx("option",{value:"",children:"Unassigned"}),A.map(o=>e.jsx("option",{value:o,children:o},o))]}),e.jsx("button",{onClick:()=>O(t.id),style:{padding:"4px 8px",backgroundColor:"#FEE2E2",color:"#DC2626",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},children:"Delete"})]},t.id))}),p.length===0&&e.jsx("p",{style:{textAlign:"center",color:"#6B7280"},children:"No tasks yet. Add one above."})]}),l==="materials"&&e.jsxs("div",{children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[e.jsx("h2",{style:{margin:0,fontSize:"18px",fontWeight:"600"},children:"Materials List"}),e.jsx("button",{onClick:()=>m(!w),style:{padding:"8px 16px",backgroundColor:"#3B82F6",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px"},children:"+ Add Material"})]}),w&&e.jsxs("form",{onSubmit:H,style:{backgroundColor:"#F9FAFB",padding:"16px",borderRadius:"8px",marginBottom:"16px"},children:[e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"2fr 1fr 1fr 1fr 1fr",gap:"12px",alignItems:"end"},children:[e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",fontSize:"12px",fontWeight:"500",marginBottom:"4px",color:"#374151"},children:"Material Name"}),e.jsx("input",{type:"text",value:n.name,onChange:t=>c({...n,name:t.target.value}),placeholder:"e.g., 2x4 Lumber",style:{width:"100%",padding:"8px",border:"1px solid #E5E7EB",borderRadius:"4px",fontSize:"14px"},required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",fontSize:"12px",fontWeight:"500",marginBottom:"4px",color:"#374151"},children:"Quantity"}),e.jsx("input",{type:"number",step:"0.01",value:n.quantity,onChange:t=>c({...n,quantity:t.target.value}),placeholder:"0",style:{width:"100%",padding:"8px",border:"1px solid #E5E7EB",borderRadius:"4px",fontSize:"14px"},required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",fontSize:"12px",fontWeight:"500",marginBottom:"4px",color:"#374151"},children:"Unit"}),e.jsxs("select",{value:n.unit,onChange:t=>c({...n,unit:t.target.value}),style:{width:"100%",padding:"8px",border:"1px solid #E5E7EB",borderRadius:"4px",fontSize:"14px"},children:[e.jsx("option",{value:"pieces",children:"pieces"}),e.jsx("option",{value:"sheets",children:"sheets"}),e.jsx("option",{value:"linear ft",children:"linear ft"}),e.jsx("option",{value:"sq ft",children:"sq ft"}),e.jsx("option",{value:"gallons",children:"gallons"}),e.jsx("option",{value:"bags",children:"bags"}),e.jsx("option",{value:"boxes",children:"boxes"}),e.jsx("option",{value:"rolls",children:"rolls"})]})]}),e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",fontSize:"12px",fontWeight:"500",marginBottom:"4px",color:"#374151"},children:"Store"}),e.jsxs("select",{value:n.store,onChange:t=>c({...n,store:t.target.value}),style:{width:"100%",padding:"8px",border:"1px solid #E5E7EB",borderRadius:"4px",fontSize:"14px"},children:[e.jsx("option",{value:"Home Depot",children:"Home Depot"}),e.jsx("option",{value:"Lowes",children:"Lowes"}),e.jsx("option",{value:"Menards",children:"Menards"}),e.jsx("option",{value:"Local Hardware",children:"Local Hardware"}),e.jsx("option",{value:"Online",children:"Online"}),e.jsx("option",{value:"Other",children:"Other"})]})]}),e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",fontSize:"12px",fontWeight:"500",marginBottom:"4px",color:"#374151"},children:"Price per Unit"}),e.jsx("input",{type:"number",step:"0.01",value:n.price,onChange:t=>c({...n,price:t.target.value}),placeholder:"0.00",style:{width:"100%",padding:"8px",border:"1px solid #E5E7EB",borderRadius:"4px",fontSize:"14px"},required:!0})]})]}),e.jsxs("div",{style:{marginTop:"12px",display:"flex",gap:"8px"},children:[e.jsx("button",{type:"submit",style:{padding:"8px 16px",backgroundColor:"#10B981",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"14px"},children:"Add Material"}),e.jsx("button",{type:"button",onClick:()=>{m(!1),c({name:"",quantity:"",unit:"pieces",store:"Home Depot",price:""})},style:{padding:"8px 16px",backgroundColor:"#E5E7EB",color:"#374151",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"14px"},children:"Cancel"})]})]}),d.length>0?e.jsx("div",{style:{overflowX:"auto"},children:e.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[e.jsx("thead",{children:e.jsxs("tr",{style:{borderBottom:"2px solid #E5E7EB"},children:[e.jsx("th",{style:{padding:"12px",textAlign:"left",fontSize:"12px",fontWeight:"600",color:"#374151"},children:"Material"}),e.jsx("th",{style:{padding:"12px",textAlign:"center",fontSize:"12px",fontWeight:"600",color:"#374151"},children:"Quantity"}),e.jsx("th",{style:{padding:"12px",textAlign:"center",fontSize:"12px",fontWeight:"600",color:"#374151"},children:"Unit"}),e.jsx("th",{style:{padding:"12px",textAlign:"center",fontSize:"12px",fontWeight:"600",color:"#374151"},children:"Store"}),e.jsx("th",{style:{padding:"12px",textAlign:"right",fontSize:"12px",fontWeight:"600",color:"#374151"},children:"Price/Unit"}),e.jsx("th",{style:{padding:"12px",textAlign:"right",fontSize:"12px",fontWeight:"600",color:"#374151"},children:"Total"}),e.jsx("th",{style:{padding:"12px",textAlign:"center",fontSize:"12px",fontWeight:"600",color:"#374151"},children:"Actions"})]})}),e.jsx("tbody",{children:d.map(t=>e.jsxs("tr",{style:{borderBottom:"1px solid #E5E7EB"},children:[e.jsx("td",{style:{padding:"12px",fontSize:"14px",color:"#111827"},children:t.name}),e.jsx("td",{style:{padding:"12px",textAlign:"center",fontSize:"14px",color:"#374151"},children:t.quantity}),e.jsx("td",{style:{padding:"12px",textAlign:"center",fontSize:"14px",color:"#374151"},children:t.unit}),e.jsx("td",{style:{padding:"12px",textAlign:"center",fontSize:"14px"},children:e.jsx("span",{style:{padding:"4px 8px",backgroundColor:t.store==="Home Depot"?"#FEF3C7":t.store==="Lowes"?"#DBEAFE":"#E5E7EB",color:t.store==="Home Depot"?"#92400E":t.store==="Lowes"?"#1E3A8A":"#374151",borderRadius:"4px",fontSize:"12px",fontWeight:"500"},children:t.store})}),e.jsxs("td",{style:{padding:"12px",textAlign:"right",fontSize:"14px",color:"#374151"},children:["$",t.price.toFixed(2)]}),e.jsxs("td",{style:{padding:"12px",textAlign:"right",fontSize:"14px",fontWeight:"600",color:"#111827"},children:["$",t.total.toFixed(2)]}),e.jsx("td",{style:{padding:"12px",textAlign:"center"},children:e.jsx("button",{onClick:()=>P(t.id),style:{padding:"4px 8px",backgroundColor:"#FEE2E2",color:"#DC2626",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},children:"Delete"})})]},t.id))}),e.jsx("tfoot",{children:e.jsxs("tr",{children:[e.jsx("td",{colSpan:"5",style:{padding:"12px",textAlign:"right",fontSize:"16px",fontWeight:"600",color:"#111827"},children:"Total Materials Cost:"}),e.jsxs("td",{style:{padding:"12px",textAlign:"right",fontSize:"16px",fontWeight:"700",color:"#059669"},children:["$",J().toFixed(2)]}),e.jsx("td",{})]})})]})}):e.jsxs("div",{style:{textAlign:"center",padding:"40px",backgroundColor:"#F9FAFB",borderRadius:"8px",color:"#6B7280"},children:[e.jsx("p",{style:{margin:"0 0 8px 0",fontSize:"16px"},children:"No materials added yet"}),e.jsx("p",{style:{margin:0,fontSize:"14px"},children:'Click "Add Material" to start tracking materials for this job'})]}),d.length>0&&e.jsxs("div",{style:{marginTop:"24px"},children:[e.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"12px"},children:"Store Summary"}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"12px"},children:Object.entries(d.reduce((t,o)=>(t[o.store]||(t[o.store]={count:0,total:0}),t[o.store].count+=1,t[o.store].total+=o.total,t),{})).map(([t,o])=>e.jsxs("div",{style:{padding:"12px",backgroundColor:"#F9FAFB",borderRadius:"6px",border:"1px solid #E5E7EB"},children:[e.jsx("div",{style:{fontSize:"14px",fontWeight:"600",color:"#111827",marginBottom:"4px"},children:t}),e.jsxs("div",{style:{fontSize:"12px",color:"#6B7280"},children:[o.count," item",o.count!==1?"s":""," â€¢ $",o.total.toFixed(2)]})]},t))})]})]}),l==="notes"&&e.jsxs("div",{children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[e.jsx("h2",{style:{margin:0,fontSize:"18px",fontWeight:"600"},children:"Special Notes"}),e.jsx("button",{onClick:()=>{I(!f)},style:{padding:"8px 16px",backgroundColor:f?"#10B981":"#3B82F6",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px"},children:f?"Save":"Edit"})]}),f?e.jsx("textarea",{value:z,onChange:t=>k(t.target.value),style:{width:"100%",minHeight:"150px",padding:"12px",border:"1px solid #E5E7EB",borderRadius:"6px",fontSize:"14px",resize:"vertical"}}):e.jsx("p",{style:{margin:0,fontSize:"14px",lineHeight:"1.6",color:"#374151",whiteSpace:"pre-wrap"},children:z||"No special notes for this job."})]}),l==="extraWork"&&e.jsxs("div",{children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[e.jsxs("h2",{style:{margin:0,fontSize:"18px",fontWeight:"600"},children:["Extra Work Items",e.jsxs("span",{style:{marginLeft:"12px",fontSize:"16px",color:"#6B7280"},children:["Total: $",X().toLocaleString(),W()>0&&` (Approved: $${W().toLocaleString()})`]})]}),e.jsx("button",{onClick:()=>S(!0),style:{padding:"8px 16px",backgroundColor:"#3B82F6",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px"},children:"+ Add Extra Work"})]}),N&&e.jsxs("form",{onSubmit:_,style:{backgroundColor:"#F9FAFB",padding:"16px",borderRadius:"8px",marginBottom:"16px"},children:[e.jsxs("div",{style:{marginBottom:"12px"},children:[e.jsx("label",{style:{display:"block",marginBottom:"4px",fontSize:"14px",fontWeight:"500"},children:"Description"}),e.jsx("textarea",{value:s.description,onChange:t=>u({...s,description:t.target.value}),required:!0,style:{width:"100%",minHeight:"80px",padding:"8px",border:"1px solid #E5E7EB",borderRadius:"6px",fontSize:"14px",resize:"vertical"},placeholder:"Describe the extra work needed..."})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px"},children:[e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",marginBottom:"4px",fontSize:"14px",fontWeight:"500"},children:"Cost"}),e.jsx("input",{type:"number",value:s.cost,onChange:t=>u({...s,cost:t.target.value}),required:!0,min:"0",step:"0.01",style:{width:"100%",padding:"8px",border:"1px solid #E5E7EB",borderRadius:"6px",fontSize:"14px"},placeholder:"0.00"})]}),e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",marginBottom:"4px",fontSize:"14px",fontWeight:"500"},children:"Status"}),e.jsxs("select",{value:s.status,onChange:t=>u({...s,status:t.target.value}),style:{width:"100%",padding:"8px",border:"1px solid #E5E7EB",borderRadius:"6px",fontSize:"14px"},children:[e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"approved",children:"Approved"}),e.jsx("option",{value:"completed",children:"Completed"}),e.jsx("option",{value:"rejected",children:"Rejected"})]})]})]}),e.jsxs("div",{style:{display:"flex",gap:"8px",marginTop:"12px"},children:[e.jsx("button",{type:"submit",style:{padding:"8px 16px",backgroundColor:"#10B981",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px"},children:"Add Extra Work"}),e.jsx("button",{type:"button",onClick:()=>{S(!1),u({description:"",cost:"",status:"pending",dateAdded:new Date().toISOString()})},style:{padding:"8px 16px",backgroundColor:"#E5E7EB",color:"#374151",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px"},children:"Cancel"})]})]}),a.length===0?e.jsx("p",{style:{textAlign:"center",color:"#6B7280",fontSize:"14px",marginTop:"40px"},children:"No extra work items yet."}):e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:a.map(t=>e.jsx("div",{style:{backgroundColor:t.approved?"#F0FDF4":"white",border:t.approved?"1px solid #86EFAC":"1px solid #E5E7EB",borderRadius:"8px",padding:"16px"},children:e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"start"},children:[e.jsxs("div",{style:{flex:1},children:[e.jsx("p",{style:{margin:"0 0 8px 0",fontSize:"14px",fontWeight:"500",whiteSpace:"pre-wrap"},children:t.description}),e.jsxs("div",{style:{display:"flex",gap:"16px",fontSize:"13px",color:"#6B7280"},children:[e.jsxs("span",{children:["Added: ",new Date(t.dateAdded).toLocaleDateString()]}),e.jsx("span",{style:{padding:"2px 8px",backgroundColor:t.status==="approved"?"#D1FAE5":t.status==="completed"?"#DBEAFE":t.status==="rejected"?"#FEE2E2":"#F3F4F6",color:t.status==="approved"?"#065F46":t.status==="completed"?"#1E40AF":t.status==="rejected"?"#991B1B":"#374151",borderRadius:"12px",fontSize:"12px"},children:t.status})]})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[e.jsxs("span",{style:{fontSize:"18px",fontWeight:"600",color:t.approved?"#059669":"#111827"},children:["$",t.cost.toLocaleString()]}),e.jsxs("div",{style:{display:"flex",gap:"8px"},children:[e.jsx("button",{onClick:()=>Q(t.id),style:{padding:"6px 12px",backgroundColor:t.approved?"#FEE2E2":"#D1FAE5",color:t.approved?"#991B1B":"#065F46",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"13px"},children:t.approved?"Unapprove":"Approve"}),e.jsx("button",{onClick:()=>U(t.id),style:{padding:"6px",backgroundColor:"#FEE2E2",color:"#991B1B",border:"none",borderRadius:"6px",cursor:"pointer"},children:"ğŸ—‘ï¸"})]})]})]})},t.id))})]})]})]}):e.jsx("div",{style:{maxWidth:"800px",margin:"0 auto",padding:"20px",textAlign:"center"},children:e.jsx("p",{children:"Loading job details..."})})};export{ee as default};
//# sourceMappingURL=JobDetailTabbed-B1QdY4-b.js.map
