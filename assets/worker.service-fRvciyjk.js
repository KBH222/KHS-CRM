var h=Object.defineProperty;var k=(o,e,r)=>e in o?h(o,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):o[e]=r;var n=(o,e,r)=>k(o,typeof e!="symbol"?e+"":e,r);const a="khs-crm-workers",l=[{id:"KBH",name:"KBH",fullName:"Keith B. Henderson",phone:"(555) 111-2222",email:"kbh@khsconstruction.com",specialty:"General Construction",status:"Available",currentJob:null,color:"#3B82F6"},{id:"ISA",name:"ISA",fullName:"Isabella A. Rodriguez",phone:"(555) 333-4444",email:"isa@khsconstruction.com",specialty:"Finish Work",status:"On Job",currentJob:"Kitchen Remodel - Sarah Johnson",color:"#10B981"},{id:"TYL",name:"TYL",fullName:"Tyler L. Mitchell",phone:"(555) 555-6666",email:"tyl@khsconstruction.com",specialty:"Carpentry",status:"On Job",currentJob:"Deck Installation - Mike Davis",color:"#F59E0B"}],c=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#EC4899","#14B8A6","#6366F1","#F97316","#84CC16"];class d{constructor(){n(this,"workers",[]);this.loadWorkers()}loadWorkers(){try{const e=localStorage.getItem(a);e?this.workers=JSON.parse(e):(this.workers=l,this.saveWorkers())}catch(e){console.error("Failed to load workers:",e),this.workers=l}}saveWorkers(){try{localStorage.setItem(a,JSON.stringify(this.workers))}catch(e){console.error("Failed to save workers:",e)}}getAll(){return[...this.workers]}getById(e){return this.workers.find(r=>r.id===e)}getByInitials(e){return this.workers.find(r=>r.name===e)}create(e){const r={...e,id:this.generateId(e.name)};return this.workers.push(r),this.saveWorkers(),r}update(e,r){const s=this.workers.findIndex(t=>t.id===e);if(s!==-1)return this.workers[s]={...this.workers[s],...r},this.saveWorkers(),this.workers[s]}delete(e){const r=this.workers.findIndex(s=>s.id===e);return r===-1?!1:(this.workers.splice(r,1),this.saveWorkers(),!0)}generateId(e){const r=e.split(" ").map(i=>i[0]).join("").toUpperCase();let s=r,t=1;for(;this.workers.some(i=>i.id===s);)s=`${r}${t}`,t++;return s}getNextColor(){const e=this.workers.map(s=>s.color);return c.find(s=>!e.includes(s))||c[0]}formatPhone(e){const r=e.replace(/\D/g,"");return r.length===10?`(${r.slice(0,3)}) ${r.slice(3,6)}-${r.slice(6)}`:e}}const w=new d;export{c as a,w};
//# sourceMappingURL=worker.service-fRvciyjk.js.map
