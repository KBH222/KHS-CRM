import{j as e}from"./ui-vendor-DuzoyoLP.js";import{u as j,r as t}from"./react-vendor-BLXwT7zj.js";import{u as N,a as v,b as k,o as S}from"./index-DEcLH6Mq.js";import"./utils-vendor-BiZXfEo0.js";const O=()=>{const u=j(),{login:p}=N(),{isBiometricEnabled:n,biometricLogin:h}=v(),a=k(),[o,i]=t.useState(!1),[b,l]=t.useState(""),[c,g]=t.useState(!1),[x,f]=t.useState(!1),[r,d]=t.useState({email:"",password:"",rememberMe:!1});t.useEffect(()=>{(async()=>{const m=await S.isBiometricSupported();g(m)})()},[]);const w=async s=>{s.preventDefault(),l(""),i(!0);try{await p({email:r.email,password:r.password,rememberMe:r.rememberMe},x&&c),u("/dashboard")}catch(m){l(m.message||"Invalid email or password")}finally{i(!1)}},y=async()=>{if(n){l(""),i(!0);try{await h(),u("/dashboard")}catch(s){l(s.message||"Biometric authentication failed")}finally{i(!1)}}};return e.jsx("div",{className:"min-h-screen flex items-center justify-center px-4",children:e.jsxs("div",{className:"max-w-md w-full space-y-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"KHS CRM"}),e.jsx("p",{className:"mt-2 text-gray-600",children:"Sign in to your account"})]}),e.jsxs("div",{className:`border rounded-lg p-4 ${a?"bg-green-50 border-green-200":"bg-yellow-50 border-yellow-200"}`,children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`w-2 h-2 rounded-full mr-2 ${a?"bg-green-400":"bg-yellow-400"}`}),e.jsx("p",{className:`text-sm font-medium ${a?"text-green-900":"text-yellow-900"}`,children:a?"Online":"Offline Mode"})]}),!a&&e.jsx("p",{className:"text-xs text-yellow-700 mt-1",children:"You can still sign in with stored credentials"})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsx("p",{className:"text-sm font-medium text-blue-900 mb-2",children:"Demo Credentials:"}),e.jsxs("div",{className:"space-y-1 text-sm text-blue-800",children:[e.jsx("p",{children:"Owner: owner@khs.com / password123"}),e.jsx("p",{children:"Worker: worker@khs.com / password123"})]})]}),n&&c&&e.jsxs("div",{className:"text-center",children:[e.jsxs("button",{onClick:y,disabled:o,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),o?"Authenticating...":"Sign in with Biometric"]}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Or sign in with your password below"})]}),e.jsxs("form",{className:"mt-8 space-y-6",onSubmit:w,children:[b&&e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:e.jsx("p",{className:"text-sm text-red-600",children:b})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),e.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:r.email,onChange:s=>d({...r,email:s.target.value}),className:"mt-1 appearance-none block w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter your email"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),e.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:r.password,onChange:s=>d({...r,password:s.target.value}),className:"mt-1 appearance-none block w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter your password"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",checked:r.rememberMe,onChange:s=>d({...r,rememberMe:s.target.checked}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-900",children:"Remember me for 30 days"})]}),c&&!n&&e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{id:"enable-biometric",name:"enable-biometric",type:"checkbox",checked:x,onChange:s=>f(s.target.checked),className:"h-4 w-4 text-green-600 focus:ring-green-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"enable-biometric",className:"ml-2 block text-sm text-gray-900",children:"Enable biometric login (fingerprint/face ID)"})]})]}),e.jsx("button",{type:"submit",disabled:o,className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:o?"Signing in...":"Sign in"})]})]})})};export{O as default};
//# sourceMappingURL=Login-DXABXAaJ.js.map
