import{j as e}from"./ui-vendor-DuzoyoLP.js";import{u,e as g,r as o}from"./react-vendor-BLXwT7zj.js";import{d as b}from"./index-DEcLH6Mq.js";import"./utils-vendor-BiZXfEo0.js";const f=({to:r="/dashboard",text:a="Back to Home"})=>{const l=u();return e.jsxs("button",{onClick:()=>l(r),className:"inline-flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 active:bg-gray-100 transition-colors",children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),a]})},p={getAll:()=>{const r=localStorage.getItem("khs-crm-jobs");return r?JSON.parse(r):[]},save:r=>{localStorage.setItem("khs-crm-jobs",JSON.stringify(r))}},i={QUOTED:{bg:"bg-gray-100",text:"text-gray-800",label:"Quoted"},SCHEDULED:{bg:"bg-blue-100",text:"text-blue-800",label:"Scheduled"},IN_PROGRESS:{bg:"bg-yellow-100",text:"text-yellow-800",label:"In Progress"},COMPLETED:{bg:"bg-green-100",text:"text-green-800",label:"Completed"},CANCELLED:{bg:"bg-red-100",text:"text-red-800",label:"Cancelled"}},k=()=>{const r=b(),a=g(),[l,c]=o.useState("ALL"),[d,m]=o.useState([]),[v,x]=o.useState(!1),[N,h]=o.useState(null);o.useEffect(()=>{var t,s;m(p.getAll()),(t=a.state)!=null&&t.customerId&&((s=a.state)!=null&&s.customerName)&&(h({id:a.state.customerId,name:a.state.customerName}),x(!0))},[a.state]);const n=d.filter(t=>l==="ALL"?!0:t.status===l);return e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsx("div",{className:"mb-4",children:e.jsx(f,{})}),e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Jobs"}),r&&e.jsxs("button",{className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700",children:[e.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"New Job"]})]}),e.jsx("div",{className:"flex space-x-1 overflow-x-auto mb-4 -mx-4 px-4",children:["ALL","QUOTED","SCHEDULED","IN_PROGRESS","COMPLETED"].map(t=>{var s;return e.jsx("button",{onClick:()=>c(t),className:`px-4 py-3 text-sm font-medium rounded-md whitespace-nowrap min-w-[80px] ${l===t?"bg-blue-600 text-white":"text-gray-700 hover:bg-gray-100"}`,children:t==="ALL"?"All Jobs":((s=i[t])==null?void 0:s.label)||t},t)})}),e.jsx("div",{className:"flex-1 overflow-auto space-y-3",children:n.length===0?e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 text-center text-gray-500",children:"No jobs found."}):n.map(t=>{const s=i[t.status];return e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 active:bg-gray-50 transition-colors",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("h3",{className:"text-base font-medium text-gray-900",children:t.title}),e.jsx("span",{className:`ml-3 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${s.bg} ${s.text}`,children:s.label})]}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:t.customer}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:t.address}),e.jsxs("div",{className:"mt-3 flex items-center text-sm text-gray-500",children:[e.jsx("svg",{className:"flex-shrink-0 mr-1.5 h-4 w-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),new Date(t.startDate).toLocaleDateString()," - ",new Date(t.endDate).toLocaleDateString()]}),t.assignedTo.length>0&&e.jsxs("div",{className:"mt-2 flex items-center text-sm text-gray-500",children:[e.jsx("svg",{className:"flex-shrink-0 mr-1.5 h-4 w-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),t.assignedTo.join(", ")]})]}),e.jsxs("div",{className:"ml-4 flex-shrink-0 text-right",children:[e.jsxs("p",{className:"text-lg font-medium text-gray-900",children:["$",t.totalCost.toLocaleString()]}),e.jsx("button",{className:"mt-2 text-sm text-blue-600 hover:text-blue-500",children:"View Details â†’"})]})]})},t.id)})})]})};export{k as default};
//# sourceMappingURL=Jobs-Bnr14A6v.js.map
