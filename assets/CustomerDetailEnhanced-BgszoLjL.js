import{j as t}from"./ui-vendor-DuzoyoLP.js";import{d as h,u as m,r as s}from"./react-vendor-BLXwT7zj.js";import{c as y}from"./localStorage-DKzdD8oH.js";import"./index-DEcLH6Mq.js";import"./utils-vendor-BiZXfEo0.js";const k=()=>{const{id:i}=h(),r=m(),[o,c]=s.useState(null);s.useEffect(()=>{const n=y.getAll().find(g=>g.id===i);n?c(n):r("/customers")},[i,r]);const[l]=s.useState([]),p=e=>{e.stopPropagation(),window.location.href=`tel:${o.phone.replace(/\D/g,"")}`},x=e=>{e.stopPropagation(),window.location.href=`mailto:${o.email}`},u=e=>{e.stopPropagation();const n=encodeURIComponent(o.address);window.open(`https://www.google.com/maps/search/?api=1&query=${n}`,"_blank")},d=e=>{switch(e){case"Completed":return"#10B981";case"In Progress":return"#3B82F6";case"Quote":return"#F59E0B";default:return"#6B7280"}},a=e=>e?new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"Not set";return o?t.jsxs("div",{style:{maxWidth:"800px",margin:"0 auto",padding:"20px"},children:[t.jsx("button",{onClick:()=>r("/customers"),style:{marginBottom:"20px",padding:"8px 16px",backgroundColor:"#E5E7EB",border:"none",borderRadius:"6px",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px",fontSize:"14px"},children:"← Back to Customers"}),t.jsx("div",{style:{backgroundColor:"white",padding:"20px",borderRadius:"8px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",marginBottom:"20px"},children:t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"start"},children:[t.jsxs("div",{children:[t.jsx("h1",{style:{margin:"0 0 10px 0",fontSize:"24px",fontWeight:"bold"},children:o.name}),o.reference&&t.jsx("span",{style:{display:"inline-block",fontSize:"12px",backgroundColor:"#E5E7EB",color:"#374151",padding:"4px 8px",borderRadius:"4px",marginBottom:"15px"},children:o.reference}),t.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[t.jsx("button",{onClick:x,style:{background:"none",border:"none",color:"#6B7280",cursor:"pointer",padding:0,fontSize:"14px",textAlign:"left",textDecoration:"none"},onMouseEnter:e=>{e.currentTarget.style.color="#3B82F6",e.currentTarget.style.textDecoration="underline"},onMouseLeave:e=>{e.currentTarget.style.color="#6B7280",e.currentTarget.style.textDecoration="none"},children:o.email}),t.jsx("button",{onClick:p,style:{background:"none",border:"none",color:"#3B82F6",textDecoration:"underline",cursor:"pointer",padding:0,fontSize:"16px",textAlign:"left"},children:o.phone}),t.jsx("button",{onClick:u,style:{background:"none",border:"none",color:"#6B7280",cursor:"pointer",padding:0,fontSize:"14px",textAlign:"left",textDecoration:"none"},onMouseEnter:e=>{e.currentTarget.style.color="#3B82F6",e.currentTarget.style.textDecoration="underline"},onMouseLeave:e=>{e.currentTarget.style.color="#6B7280",e.currentTarget.style.textDecoration="none"},children:o.address})]}),o.notes&&t.jsx("p",{style:{marginTop:"15px",fontSize:"14px",color:"#6B7280",fontStyle:"italic",borderTop:"1px solid #E5E7EB",paddingTop:"15px"},children:o.notes})]}),t.jsxs("div",{style:{display:"flex",gap:"10px"},children:[t.jsx("button",{onClick:()=>r(`/customers/edit/${o.id}`),style:{padding:"8px 16px",backgroundColor:"#E5E7EB",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px"},children:"Edit"}),t.jsx("button",{onClick:()=>{window.confirm("Are you sure you want to delete this customer?")&&r("/customers")},style:{padding:"8px 16px",backgroundColor:"#FEE2E2",color:"#DC2626",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px"},children:"Delete"})]})]})}),t.jsxs("div",{style:{marginBottom:"20px"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"15px"},children:[t.jsx("h2",{style:{fontSize:"20px",fontWeight:"bold",margin:0},children:"Jobs"}),t.jsx("button",{onClick:()=>r(`/customers/${o.id}/jobs/new`),style:{padding:"8px 16px",backgroundColor:"#3B82F6",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",display:"flex",alignItems:"center",gap:"6px"},children:"+ Add New Job"})]}),t.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:l.map(e=>t.jsx("div",{onClick:()=>r(`/jobs/${e.id}`),style:{backgroundColor:"white",padding:"16px",borderRadius:"8px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",cursor:"pointer",transition:"box-shadow 0.2s"},onMouseEnter:n=>n.currentTarget.style.boxShadow="0 4px 6px rgba(0,0,0,0.15)",onMouseLeave:n=>n.currentTarget.style.boxShadow="0 1px 3px rgba(0,0,0,0.1)",children:t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"start"},children:[t.jsxs("div",{style:{flex:1},children:[t.jsx("h3",{style:{margin:"0 0 8px 0",fontSize:"18px",fontWeight:"600"},children:e.title}),t.jsx("p",{style:{margin:"0 0 8px 0",fontSize:"14px",color:"#6B7280"},children:e.description}),t.jsxs("div",{style:{display:"flex",gap:"20px",fontSize:"13px",color:"#6B7280"},children:[t.jsxs("span",{children:["Start: ",a(e.startDate)]}),e.endDate&&t.jsxs("span",{children:["End: ",a(e.endDate)]})]})]}),t.jsxs("div",{style:{textAlign:"right"},children:[t.jsx("span",{style:{display:"inline-block",padding:"4px 12px",backgroundColor:`${d(e.status)}20`,color:d(e.status),borderRadius:"12px",fontSize:"12px",fontWeight:"500",marginBottom:"8px"},children:e.status}),t.jsxs("p",{style:{margin:0,fontSize:"18px",fontWeight:"bold",color:"#111827"},children:["$",e.totalCost.toLocaleString()]})]})]})},e.id))}),l.length===0&&t.jsx("div",{style:{backgroundColor:"white",padding:"40px",borderRadius:"8px",textAlign:"center",color:"#6B7280"},children:'No jobs yet. Click "Add New Job" to create one.'})]})]}):t.jsx("div",{style:{maxWidth:"800px",margin:"0 auto",padding:"20px",textAlign:"center"},children:t.jsx("p",{children:"Loading customer details..."})})};export{k as default};
//# sourceMappingURL=CustomerDetailEnhanced-BgszoLjL.js.map
